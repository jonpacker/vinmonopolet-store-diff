navy    = #222245
blue    = #1DA1CD
aqua    = #53ECEC
teal    = #339999
olive   = #77A277
green   = #68D286
lime    = #66CC66
yellow  = #FCD174
orange  = #FBAD2F
red     = #EB585C
maroon  = #854848
fuchsia = #D270D2
purple  = #A085C6
silver  = #D3D3D3
gray    = #353D44
black   = #111111

cs_pale = #E0D0B1
cs_mid = #A8957C
cs_darker = #6E5C4D
cs_blue = #5C5E73
cs_punch = #F55C0B

cs_green = #B4E59B
cs_yellow = #FFEA8A
cs_red = #F0A29A

@import 'nib'

html 
  font-size: 100px
  padding: 0.6em 6vw
  background: lighten(cs_pale, 50%)
  --box-pad: 0.8rem
  @media (max-width: 1280px)
    padding: 0.6em 3vw
  @media (max-width: 1280px)
    padding: 0.6em 6vw
  @media (max-width: 768px)
    padding: 0.6em 2vw
    --box-pad: 4vw
    font-size: 95px
    

body 
  font-family: "Archivo Narrow"
  font-size: 0.16rem
  
h1
  font-family: "Playfair Display"
  font-size: 0.45rem
  letter-spacing: -0.01rem
  font-weight: 400
  color: cs_blue
  padding: 0 var(--box-pad)
  margin-bottom: 0.6rem
  margin-top: 0.1rem
  
  @media (max-width: 768px)
    padding: 0 4vw
    font-size: 0.36rem
    
.back-to-index
  font-family: "Playfair Display"
  text-decoration: underline
  padding: 0 var(--box-pad)
  color: cs_blue
  
.changeset
  display: grid
  grid-template-rows: min-content min-content min-content
  grid-template-columns: 1fr 1fr
  margin-bottom: 0.8rem
  
  h2
    padding: 0.6rem 0rem 0.2rem 0rem
    margin: 0 var(--box-pad)
    text-transform: uppercase
    font-family: "Work Sans"
    font-weight: 700
    font-size: 0.14rem
    color: darken(cs_blue, 25%)
    border-bottom: 1px solid darken(cs_blue, 25%)
    grid-area: 1/1/2/3
    z-index: 10
    justify-self: start
    
  h3.added-header
    grid-area: 2/1/3/2
    padding-left: var(--box-pad)
  h3.removed-header
    grid-area: 2/2/3/3
    padding-left: calc(var(--box-pad) / 2)
  
    
  h3.added-header, h3.removed-header
    font-size: 0.14rem
    text-transform: uppercase
    font-family: "Work Sans"
    font-weight: 700
    color: darken(cs_blue, 25%)
    z-index: 10
    margin-top: 0.5rem
    
  ul
    margin: 0
    
  product_padding = 0.05rem
    
  .added
    padding: 1.8rem 0rem 0.5rem 0rem
    grid-area: 1/1/4/2
    background-color: mix(cs_green, cs_pale, 25%)
    
    .product
      padding: product_padding calc(var(--box-pad)/2) product_padding var(--box-pad)
    
  .removed
    padding: 1.8rem 0rem 0.5rem 0rem
    grid-area: 1/2/4/3
    background-color: mix(cs_red, cs_pale, 25%)
    
    .product
      padding: product_padding var(--box-pad) product_padding calc(var(--box-pad)/2)
    
  &.add-only
    .added
      grid-area: 1/1/4/3
      padding: 1.8rem 0rem 0.5rem
      .product
        padding: product_padding var(--box-pad)
    .product a
      width: 50%
    .removed, .removed-header
      display: none
      
  &.remove-only
    .removed
      grid-area: 1/1/4/3
      padding: 1.8rem 0 0.5rem
      .product
        padding: product_padding var(--box-pad)
    .added, .added-header
      display: none
    .removed-header
      grid-area: 2/1/3/2
      padding-left: var(--box-pad)
    
  .product
    display: block
  
    &:nth-child(odd)
      background-color: rgba(white, 15%)
    
  .product a
    display: grid
    width: 100%
    grid-gap: 0.2rem
    font-size: 0.16rem
    text-decoration: none
    color: cs_darker
  .added .product a
    grid-template-columns: 0.25rem auto max-content max-content
  .removed .product a
    grid-template-columns: 1fr
    
  .stock-count
    align-self: center
    &:before
      content: "+"
      
  .product-price
    align-self: center
    justify-self: right
    grid-column: 4/5
    &:after
      content: "kr"

  .product-ut
    align-self: center
    justify-self: right
    grid-column: 3/4
    &:hover
      text-decoration: underline

  .product-misc
    justify-self: right

  @media (max-width: 1024px)
    grid-template-rows: 1rem 0.7rem min-content 0.7rem min-content
    grid-template-columns: 1fr
    
    h2
      grid-area: 1/1/2/2
    h3.added-header
      grid-area: 2/1/3/2
      padding: 0 var(--box-pad)
    h3.removed-header
      grid-area: 4/1/5/2
      padding: 0 var(--box-pad)
    .added
      padding: 1.8rem 0rem 0.5rem
      grid-area: 1/1/4/2
      .product
        padding: product_padding var(--box-pad)
    .removed
      padding: 1rem 0rem 0.5rem
      grid-area: 4/1/6/2
      .product
        padding: product_padding var(--box-pad)
      
    &.add-only
      .added
        grid-area: 1/1/6/2
      .product a
        width: 100%
      .removed, .removed-header
        display: none
        
    &.remove-only
      .removed
        grid-area: 1/1/6/2
      .added, .added-header
        display: none
      .removed-header
        grid-area: 2/1/3/2
    

.attr
  color: cs_mid
  font-family: "Work Sans"
  font-weight: 700
  font-size: 0.12rem
  text-transform: uppercase
  margin: 1rem var(--box-pad) 0
  
a
  color: inherit
  
.index
  h1
    margin-bottom: 0.6rem
    margin-top: 0.4rem
    position: relative
    transform: skewY(-5deg)
    transform-origin: 0 100%
    z-index: 2
    &:before
    &:after
      content: ''
      position: absolute
      z-index: -1
      display: block
      width: 100vw
      left: 50%
      margin-left: -50vw
    &:before
      background-color: lighten(cs_punch, 40%)
      height: 200%
      top: -50%
    &:after
      height: 600%
      top: -650%
      background-image: url(/img/vp.svg)
      background-size: 50%
      background-position: left 6vw bottom -20vw
      background-repeat: no-repeat
      opacity: 0.2
     
  h2, h3
    font-family: "Work Sans"
    font-weight: 700
    font-size: 0.16rem
    color: cs_blue
    text-transform: uppercase
    margin: .1rem var(--box-pad) 0.5rem
    padding: 0 0 .2rem
    border-bottom: 1px solid cs_punch
    position: relative
    z-index: 5

  h3
    font-size: 0.12rem
    margin: 0 var(--box-pad) 0
    font-style: italic
    border-bottom: none

  hr
    margin: .3rem var(--box-pad) .2rem
    border-top: none
    border-bottom: 1px solid cs_punch

  .stores
    padding: 0 var(--box-pad)
    display: flex
    flex-wrap: wrap
    
    &:hover a.store
      opacity: 0.85
      &:hover
        opacity: 1
      
  a.store
    display: block
    font-size: 0.24rem
    text-decoration: none
    color: cs_pale
    background-color: cs_blue
    font-family: "Playfair Display"
    padding: 0.12rem 0.28rem
    margin: 0 0.12rem 0.12rem 0
    transition: opacity 0.2s ease-out
    

    
    &:before
      content: ''
      display: inline-block
      background-image: url(/img/vp_pale.svg)
      width: .34rem
      height: .34rem
      vertical-align: middle
      margin-right: .12rem
      margin-bottom: .02rem
      
    &:hover
      background-color: cs_punch
      outline: 0.05rem cs_punch solid
      
    
    
table
  thead
    th
      text-align: left
      background-color: cs_darker
      color: cs_pale
      padding: 0.04rem 0.08rem
      font-family: "Work Sans"
      text-transform: uppercase
      font-size: 0.14rem
      cursor: pointer

  tbody
    td
      padding: 0.01rem 0.04rem
    tr:nth-child(odd)
      background-color: rgba(white, 35%)


@keyframes rotate
  from
    transform: rotate(0deg)
  to
    transform: rotate(360deg)

.refresh-rating
  background-color: transparent
  border: none
  cursor: pointer

  &.loading img
    animation: rotate 1s linear infinite both

  img
    width: 12px
    height: 12px
